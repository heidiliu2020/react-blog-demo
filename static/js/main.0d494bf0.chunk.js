(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(0),i=e(9),o=e.n(i),a=e(4),u=e(2),s=e(3);function d(){var n=Object(u.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  // \u5782\u76f4\u6c34\u5e73\u7f6e\u4e2d\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return d=function(){return n},n}function b(){var n=Object(u.a)(["\n  color: white;\n  background-color: #db4c3f;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  font-size: 16px;\n  padding: 4px 8px;\n"]);return b=function(){return n},n}function f(){var n=Object(u.a)(["\n  margin-top: 16px;\n  color: #db4c3f;\n"]);return f=function(){return n},n}function j(){var n=Object(u.a)(["\n  margin-top: 8px;\n  word-break: break-all;\n  white-space: pre-line;\n"]);return j=function(){return n},n}function p(){var n=Object(u.a)(["\n  margin-right: 12px;\n"]);return p=function(){return n},n}function l(){var n=Object(u.a)(["\n  margin-right: 12px;\n  color: #232323;\n"]);return l=function(){return n},n}function x(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n"]);return x=function(){return n},n}function h(){var n=Object(u.a)(["\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  padding: 16px;\n  border-radius: 4px;\n\n  & + & {\n    margin-top: 8px;\n  }\n"]);return h=function(){return n},n}function g(){var n=Object(u.a)(["\n  margin-top: 16px;\n"]);return g=function(){return n},n}function m(){var n=Object(u.a)(["\n  margin-top: 8px;\n  color: #ddd;\n  background-color: #343a40;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  font-size: 16px;\n  padding: 6px 12px;\n"]);return m=function(){return n},n}function O(){var n=Object(u.a)(["\n  display: block;\n  margin-top: 8px;\n  width: 95%;\n  border-color: rgba(0, 0, 0, 0.125);\n"]);return O=function(){return n},n}function v(){var n=Object(u.a)([""]);return v=function(){return n},n}function y(){var n=Object(u.a)(["\n  margin: 16px 0;\n  font-size: 18px;\n"]);return y=function(){return n},n}function w(){var n=Object(u.a)(["\n  text-align: center;\n"]);return w=function(){return n},n}function k(){var n=Object(u.a)(['\n  max-width: 800px;\n  margin: 0 auto;\n  font-family: "monospace", "\u5fae\u8edf\u6b63\u9ed1\u9ad4";\n  box-shadow: 0px 0px 16px rgb(199, 197, 197);\n  border-radius: 8px;\n  padding: 12px 28px;\n  color: #6c6c6c;\n  box-sizing: border-box;\n']);return k=function(){return n},n}var S=s.a.div(k()),z=s.a.h1(w()),D=s.a.form(y()),E=s.a.div(v()),J=s.a.textarea(O()),L=s.a.button(m()),M=s.a.div(g()),A=s.a.div(h()),C=s.a.div(x()),N=s.a.div(l()),T=s.a.div(p()),_=s.a.div(j()),B=s.a.div(f()),F=s.a.button(b()),H=s.a.div(d());function I(n){var t=n.author,e=n.time,c=n.children,i=n.handleDeleteMessage,o=n.message;return Object(r.jsxs)(A,{children:[Object(r.jsxs)(C,{children:[Object(r.jsx)(N,{children:t}),Object(r.jsx)(T,{children:e}),Object(r.jsx)(F,{onClick:function(){i(o.id)},children:"\u522a\u9664"})]}),Object(r.jsx)(_,{children:c})]})}var P=function(){var n=Object(c.useState)(null),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(null),u=Object(a.a)(o,2),s=u[0],d=u[1],b=Object(c.useState)(),f=Object(a.a)(b,2),j=f[0],p=f[1],l=Object(c.useState)(),x=Object(a.a)(l,2),h=x[0],g=x[1],m=Object(c.useState)(!1),O=Object(a.a)(m,2),v=O[0],y=O[1],w=function(){return fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){i(n)})).catch((function(n){d(n.message)}))},k=function(n){fetch("https://student-json-api.lidemy.me/comments/"+n,{method:"DELETE"}).then((function(n){return n.json()})).then((function(){i(e.filter((function(t){return t.id!==n})))})).catch((function(n){console.log(n)}))};return Object(c.useEffect)((function(){w()}),[]),Object(r.jsxs)(S,{children:[v&&Object(r.jsx)(H,{children:"Loading..."}),Object(r.jsx)(z,{children:"React \u7559\u8a00\u677f"}),Object(r.jsxs)(D,{onSubmit:function(n){n.preventDefault(),v||(y(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"Heidi",body:j})}).then((function(n){return n.json()})).then((function(n){y(!1),0!==n.ok?(p(""),w()):g(n.message)})).catch((function(n){y(!1),g(n.message)})))},children:[Object(r.jsx)(E,{children:"\u7559\u8a00\u5167\u5bb9"}),Object(r.jsx)(J,{value:j,onChange:function(n){p(n.target.value)},onFocus:function(){g(null)},rows:8}),Object(r.jsx)(L,{children:"\u9001\u51fa"}),h&&Object(r.jsx)(B,{children:h})]}),s&&Object(r.jsxs)(B,{children:["Something went wrong. ",s.toString()]}),e&&0===e.length&&Object(r.jsx)("div",{children:"No Message"}),Object(r.jsx)(M,{children:e&&e.map((function(n){return Object(r.jsx)(I,{author:n.nickname,time:new Date(n.createdAt).toLocaleString(),handleDeleteMessage:k,message:n,children:n.body},n.id)}))})]})};o.a.render(Object(r.jsx)(P,{}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.0d494bf0.chunk.js.map